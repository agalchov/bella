<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Защо си специална</title>
    <link rel="icon" href="title.PNG" type="image/x-icon" />
    <style>
        .dot{
            width:15px;
            height:15px;
            opacity: 0.3;
            position:absolute;
            background: url(https://image.ibb.co/kyUHab/rose.png);
            color: #ff4d88;
            background-size: 100% 100%;
        }

        #logo{ left:50%; top:50%; position:absolute; border-radius:10px; }

        body {
            font-family: Signika Negative, Asap, sans-serif;
            display: flex;
            overflow: hidden;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 10px;
            font-family: Arial, sans-serif;
            background-color: #ffe6e9;
            background-image: url('bg.JPG');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-blend-mode: overlay;
        }


.heart {
    left: 38%;
    height: 100px;
    width: 100px;
    background-color: #ff4d88;
    transform: rotate(-45deg);
    position: relative;

}
.heartbeat-animation {
    animation: heartbeat 1s infinite;
}

.heart::before, 
.heart::after {
    content: "";
    height: 100px;
    width: 100px;
    background-color: #ff4d88;
    border-radius: 50%;
    position: absolute;
}

.heart::before {
    top: -50px;
    left: 0px;
}

.heart::after {
    left: 50px;
    top: 0px;
}

@keyframes heartbeat {
    0% {
        transform: scale(1)
            rotate(-45deg);
    }

    25% {
        transform: scale(1.25)
            rotate(-45deg);
    }

    45% {
        transform: scale(1.5)
            rotate(-45deg);
    }
}
        .container {
            text-align: center;
            max-width: 500px;
        }

        h1 {
            color: #ff4d88;
            font-size: 2em;
            margin-bottom: 100px;
        }


        button {
            padding: 10px 20px;
            font-size: 1em;
            color: #ffffff;
            background-color: #ff4d88;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 80px;
        }

        button:hover {
            background-color: #ff6680;
        }

        #reasonDisplay {
            font-size: 1.2em;
            margin-top: 20px;
            color: #ff4d88;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body id="container">
    <div class="container">
        <div>
            <h1>Защо си специална за мен</h1>
        </div> 
        <div>
            <div class="heart"></div>
        </div>
        <div>
            <button onclick="spin()" id="click-btn">Натисни</button>
        </div>
        <p id="reasonDisplay"></p>

        <!-- <ol style="position: absolute;
        left: 0;
        top: 80%;
        opacity: 0.5;
        text-align: left;
        margin: 10px;
        color: #ff4d88;
        height: 150px;
        overflow: scroll;" id="reason-history"> -->

        </div>
    </div>
    <script>
        const reasons = [    
                    "Харесвам те с нежност, безкрайна и вечна, ти си моята радост безценна и вечна.",
                    "Ти си начало и край на всяка моя мечта, ти си любовта, която ще пазя и накрая на света.",
                    "Ти си моето слънце в мрачен ден, до теб се чувствам спокоен и благословен.",
                    "С теб всяка дума звучи като песен, любовта ти е моят пристан чудесен.",
                    "С твоите ръце намирам покой, ти си моят дом, моят вечен зной.",
                    "С усмивка ми даваш целия свят, ти си моят живот, моята съкровена благодат.",
                    "С всеки поглед ме караш да летя, ти си магия, която не мога да спра.",
                    "С всяка прегръдка ме караш да летя, ти си моят живот, моя сладка мечта.",
                    "С усмивката ти утрото се ражда, дарява нов живот във пепелта, на щастието огъня подклажда, завръща се в душата радостта.",
                    "С всеки миг до теб сърцето ми тупти, моето щастие и моята мечта си ти."
                ];
                
                // Get DOM elements
                const reasonDisplay = document.getElementById("reasonDisplay");
                const heart = document.getElementById("heart");
                const reasonHistory = document.getElementById('reason-history');
                var oldText = '';
                var hasClicked = false;
                var clickCount = 0;
            
                var priorityTexts = [
                    "Очите ти вселената побират, безброй звезди блестят в тях, само с поглед ме изтръгват от нах-дълбокия и тъмен мрак!",
                    "Косите ти са северно сияние, обагрило безкраен небосвод, това си ти божествено създание, на теб Мише бих посветил един живот!",
                    "С усмивката ти изгряват звездите и сияят безброй светлини.С гласа ти притихват вълните и песен вълшебно звъни."
                ]

                // Spin the heart function
                function spin() {
                    document.getElementsByClassName('heart')[0].classList.add('heartbeat-animation');
                    setTimeout(function(){
                    
                        var text = priorityTexts[clickCount];
                        
                        if(clickCount >= priorityTexts.length){
                            var randomIndex = Math.floor(Math.random() * reasons.length)
                            text = reasons[randomIndex];
                            if(reasonDisplay.innerText == text){
                                randomIndex = Math.floor(Math.random() * reasons.length)
                                text = reasons[randomIndex];
                            }
                        }    

                        reasonDisplay.innerText = text;
                    
                        if(!hasClicked){
                            document.getElementById('click-btn').innerText = 'Натисни Пак'
                            hasClicked = true;
                        }

                        // if(oldText){
                        //     const li = document.createElement("li");
                        //     li.innerText = oldText;
                        //     reasonHistory.insertBefore(li, reasonHistory.firstChild);
                        // }
                        // oldText = reasonDisplay.innerText;
                        document.getElementsByClassName('heart')[0].classList.remove('heartbeat-animation');
                        clickCount = clickCount + 1;
                    }, 2000)
                }

                /*
                a Pen by DIACO : twitter.com/Diaco_ml  ||  codepen.io/MAW
                powered by GSAP : https://www.greensock.com/
                */
                TweenLite.set("#container", {perspective:600})
                TweenLite.set("img", {xPercent:"-50%",yPercent:"-50%"})

                var total = 30;
                var warp = document.getElementById("container"), w = 100 , h = 150;
                
                for (i=0; i<total; i++){ 
                    var Div = document.createElement('div');
                    TweenLite.set(Div,{attr:{class:'dot'},x:R(0,w),y:R(-200,-150),z:R(-200,200)});
                    warp.appendChild(Div);
                    animm(Div);
                }
                
                    function animm(elm){   
                        TweenMax.to(elm,R(6,15), { y: h+100,ease:Linear.easeNone,repeat:-1,delay:-15});
                        TweenMax.to(elm,R(4,8), { x :'+=100',rotationZ:R(0,180),repeat:-1,yoyo:true,ease:Sine.easeInOut});
                        TweenMax.to(elm,R(2,8), {rotationX:R(0,360),rotationY:R(0,360),repeat:-1,yoyo:true,ease:Sine.easeInOut,delay:-5});
                    };

                function R(min,max) {return min+Math.random()*(max-min)};
    </script>
</body>
</html>
